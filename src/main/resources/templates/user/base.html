<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" th:fragment="dashboard__layout(content)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title th:text="${title}">base</title>
    <!-- boxicons Awesome -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>

<!--    jquery code-->
    <script   src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <script src="https://kit.fontawesome.com/2c0e6d07b0.js" crossorigin="anonymous"></script>

    <!-- MDB -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.css"
            rel="stylesheet"
    />

    <link rel="stylesheet" th:href="@{/css/index.css}" />
    <link rel="stylesheet" th:href="@{/css/profile.css}" />
    <link rel="stylesheet" th:href="@{/css/user-dashboard.css}" />
    <link rel="stylesheet" th:href="@{/css/contact.css}" />


</head>
<body>


<!-- Navbar -->
<nav class="navbar navbar-expand-lg  navbar-dark bg-primary">
    <!-- Container wrapper -->
    <div class="container-fluid navbar-group">


        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <!-- Navbar brand -->
            <a class="navbar-brand mt-2 mt-lg-0" th:href="@{/}">
                SmartContactManager
            </a>
            <!-- Left links -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="#">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Team</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Projects</a>
                </li>
            </ul>
            <!-- Left links -->
        </div>
        <!-- Collapsible wrapper -->

        <!-- Right elements -->
        <div class="d-flex align-items-center">

            <!-- Notifications -->
            <div class="dropdown">
                <a
                        class="text-reset me-3 dropdown-toggle hidden-arrow"
                        href="#"
                        id="navbarDropdownMenuLink"
                        role="button"
                        data-mdb-toggle="dropdown"
                        aria-expanded="false"
                >
                    <i class="fas fa-bell"></i>
                    <span class="badge rounded-pill badge-notification bg-danger">1</span>
                </a>
                <ul
                        class="dropdown-menu dropdown-menu-end"
                        aria-labelledby="navbarDropdownMenuLink"
                >
                    <li>
                        <a class="dropdown-item" href="#">Some news</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="#">Another news</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </li>
                </ul>
            </div>



            <!-- Avatar  and settings -->
<!--            <div class="dropdown">-->
<!--                <a-->
<!--                        class="dropdown-toggle d-flex align-items-center hidden-arrow"-->
<!--                        href="#"-->
<!--                        id="navbarDropdownMenuAvatar"-->
<!--                        role="button"-->
<!--                        data-mdb-toggle="dropdown"-->
<!--                        aria-expanded="false"-->
<!--                >-->

<!--&lt;!&ndash;                    <img loading="lazy"  th:if="${loggedInUser.getImgUrl().equals('default.png')}" style="width: 50px;height: 45px; " th:src="@{'/images/user/default.png'}" class="rounded-circle"/>&ndash;&gt;-->

<!--&lt;!&ndash;                    <img  loading="lazy" class="card-img rounded-circle img-fluid"  style="width: 50px;height: 45px;" th:if="${not loggedInUser.getImgUrl().equals('default.png')}" th:src="@{'/images/'+${loggedInUser.getImgUrl()}}" alt="" srcset="">&ndash;&gt;-->

<!--                </a>-->
<!--                <ul-->
<!--                        class="dropdown-menu dropdown-menu-end"-->
<!--                        aria-labelledby="navbarDropdownMenuAvatar"-->
<!--                >-->
<!--                    <li>-->
<!--                        <a class="dropdown-item" href="#" th:text="${user.name}"> </a>-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        <a class="dropdown-item" href="#">Settings</a>-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        <a class="dropdown-item" th:href="@{/logout}">Logout</a>-->
<!--                    </li>-->
<!--                </ul>-->
<!--            </div>-->
        </div>
        <!-- Right elements -->
        <!-- Toggle button -->
        <button
                class="navbar-toggler"
                type="button"
                data-mdb-toggle="collapse"
                data-mdb-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
        >
            <i class="fas fa-bars"></i>
        </button>


    </div>
    <!-- Container wrapper -->
</nav>
<!-- Navbar -->

<!--sidebar-->
<div class="sidebar" id="sidebar">
  <div class="navigation" id="sidebar-navigation">
      <i class='bx bx-x-circle' onclick="toggleRightBar();" id="crossx"></i>
      <a id="home-link" th:href="@{/user/dashboard}" class="item active"><i class='bx bxs-home-circle'></i>Home</a>
      <a  id="view-link" th:href="@{/user/contact-list/0}" class="item"><i class='bx bxs-book-content' ></i>view contact</a>
      <a  id="add-link" th:href="@{/user/add-contact}" class="item"><i class='bx bxs-plus-square'></i>add contact</a>
      <a  id="profile-link" th:href="@{/user/profile}" class="item"><i class='bx bxl-product-hunt' ></i>your profile</a>
      <a id="settings-link"   th:href="@{/user/settings}" class="item"><i class='bx bx-cog' ></i>settings</a>
      <a  id="logout-link" th:href="@{/logout}" class="item"><i class='bx bx-exit' ></i>Logout</a>
  </div>

    <div class="social-media">
        <a href="https://www.facebook.com/jaswantbishtuttrakhandi/" referrerpolicy="no-referrer" target="_blank"> <i class='bx bxl-facebook-square'></i> </a>
        <a href="https://www.instagram.com/real_thakur_1995/" referrerpolicy="no-referrer" target="_blank"> <i class='bx bxl-twitter' > </i> </a>
        <a href="#"><i class='bx bxl-instagram' ></i></a>
    </div>
</div>
<!--sidebar-->

<!--right content are -->
<div class="right-content" id="right-content">

       <i class='bx bx-menu' onclick="toggleRightBar()" id="menu-icon"></i>
       <div class="" th:replace="${content}">  </div>

</div>
<!--right content are -->



<!-- MDB -->
<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.js"
></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.1/dist/sweetalert2.all.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

<script th:src="@{/js/app.js}" ></script>

<script >
    function deleteContactById(contactId) {
        Swal.fire({
            title: 'Do you want to delete this contact?',
            showDenyButton: true,
            showCancelButton: true,
            confirmButtonText: 'Delete',
            denyButtonText: `Don't delete`,
        }).then((result) => {
            /* Read more about isConfirmed, isDenied below */
            if (result.isConfirmed) {
                Swal.fire('Deleted!', '', 'success')
                window.location =`/smartcontactmanager/user/delete-contact/${contactId}`;

            } else if (result.isDenied) {
                Swal.fire(`You've cancelled the deletion`)
            }
        });
    }
</script>

</body>
</html>